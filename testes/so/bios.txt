# Compilação C- para código intermediário
# Arquivo: testes/so/bios.txt
# Fim da execução.

********** Código intermediário **********

1: (function, main, _, _)
2: (param_list, 0, _, _)
3: (call, checkHD, 0, t1)
4: (param_list, 0, _, _)
5: (call, checkIM, 0, t2)
6: (param_list, 0, _, _)
7: (call, checkDM, 0, t3)
8: (assign, i, 0, _)
9: (label, L1, _, _)
10: (less_than, i, 68, t4)
11: (jump_if_false, t4, L2, _)
12: (param_list, 1, _, _)
13: (set_param, i, _, _)
14: (call, ldk, 1, t5)
15: (assign, x, t5, _)
16: (param_list, 2, _, _)
17: (set_param, x, _, _)
18: (set_param, i, _, _)
19: (call, sim, 2, t6)
20: (addition, i, 1, t7)
21: (assign, i, t7, _)
22: (goto, L1, _, _)
23: (label, L2, _, _)
24: (halt, _, _, _)

********** Código objeto **********

    0:	j	main

main:
    1:	addi	$sp, $sp, 2
    2:	ckhd	
    3:	ckim	
    4:	ckdm	
    5:	li	$t0, 0
    6:	sw	$t0, -1($sp)
.L1	
    7:	lw	$s0, -1($sp)
    8:	li	$t2, 68
    9:	lt	$t1, $s0, $t2
    10:	li	$t3, L2
    11:	add	$t3, $t3, $ms
    12:	jf	$t3, $t1
    13:	mov	$a0, $s0
    14:	ldk	$t4, $a0
    15:	sw	$t4, 0($sp)
    16:	lw	$s1, 0($sp)
    17:	mov	$a0, $s1
    18:	mov	$a1, $s0
    19:	sim	$a0, $a1
    20:	addi	$t5, $s0, 1
    21:	sw	$t5, -1($sp)
    22:	lw	$s0, -1($sp)
    23:	li	$t6, L1
    24:	add	$t6, $t6, $ms
    25:	jr	$t6
.L2	
    26:	halt	

********** Código binário **********

assign bios[0] = 32'b010110_00000000000000000000000001; 	// j
assign bios[1] = 32'b000001_11110_11110_0000000000000010; 	// addi
assign bios[2] = 32'b011101_00000000000000000000000000; 	// ckhd
assign bios[3] = 32'b011110_00000000000000000000000000; 	// ckim
assign bios[4] = 32'b011111_00000000000000000000000000; 	// ckdm
assign bios[5] = 32'b010000_00000_10100_0000000000000000; 	// li
assign bios[6] = 32'b010010_11110_10100_1111111111111111; 	// sw
assign bios[7] = 32'b001111_11110_01010_1111111111111111; 	// lw
assign bios[8] = 32'b010000_00000_10110_0000000001000100; 	// li
assign bios[9] = 32'b000000_01010_10110_10101_00000_001110; 	// lt
assign bios[10] = 32'b010000_00000_10111_0000000000011010; 	// li
assign bios[11] = 32'b000000_10111_00010_10111_00000_000000; 	// add
assign bios[12] = 32'b010101_10101_10111_0000000000000000; 	// jf
assign bios[13] = 32'b001110_01010_00110_0000000000000000; 	// mov
assign bios[14] = 32'b011001_00110_11000_0000000000000000; 	// ldk
assign bios[15] = 32'b010010_11110_11000_0000000000000000; 	// sw
assign bios[16] = 32'b001111_11110_01011_0000000000000000; 	// lw
assign bios[17] = 32'b001110_01011_00110_0000000000000000; 	// mov
assign bios[18] = 32'b001110_01010_00111_0000000000000000; 	// mov
assign bios[19] = 32'b011100_00111_00110_0000000000000000; 	// sim
assign bios[20] = 32'b000001_01010_11001_0000000000000001; 	// addi
assign bios[21] = 32'b010010_11110_11001_1111111111111111; 	// sw
assign bios[22] = 32'b001111_11110_01010_1111111111111111; 	// lw
assign bios[23] = 32'b010000_00000_11010_0000000000000111; 	// li
assign bios[24] = 32'b000000_11010_00010_11010_00000_000000; 	// add
assign bios[25] = 32'b000000_11010_00000_00000_00000_010010; 	// jr
assign bios[26] = 32'b011000_00000000000000000000000000; 	// halt
